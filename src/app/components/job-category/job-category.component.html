<div class="job-category-container">
  <div class="container-fluid px-0">
    <!-- Page Header -->
    <div class="category-header-mobile text-center mb-4">
      <h1 class="page-title-mobile">{{ categoryTitle }}</h1>
      <p class="page-subtitle-mobile">Find the best opportunities</p>
      
      <!-- Job Category Icons - Only show on All Latest Jobs page -->
      <div class="job-category-icons" *ngIf="categoryTitle === 'All Latest Jobs'">
        <div class="category-item" (click)="navigateToCategory('IT / Software Jobs')">
          <i class="bi bi-laptop fire-icon"></i>
          <span class="category-text">IT/Software</span>
        </div>
        <div class="category-item" (click)="navigateToCategory('Non-IT / BPO Jobs')">
          <i class="bi bi-headset fire-icon"></i>
          <span class="category-text">BPO/Non-IT</span>
        </div>
        <div class="category-item" (click)="navigateToCategory('Government Jobs')">
          <i class="bi bi-bank fire-icon"></i>
          <span class="category-text">Government</span>
        </div>
        <div class="category-item" (click)="navigateToCategory('All Private/ Bank Jobs')">
          <i class="bi bi-building fire-icon"></i>
          <span class="category-text">Private/Bank</span>
        </div>
        <div class="category-item" (click)="navigateToCategory('Walk-in Drive/Internships Jobs')">
          <i class="bi bi-person-walking fire-icon"></i>
          <span class="category-text">Walk-in</span>
        </div>
        <div class="category-item" (click)="navigateToCategory('Walk-in Drive/Internships Jobs')">
          <i class="bi bi-mortarboard fire-icon"></i>
          <span class="category-text">Internships</span>
        </div>
      </div>
      
      <div class="header-divider-mobile"></div>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="text-center py-5">
      <div class="spinner-border text-light" style="width: 3rem; height: 3rem;" role="status">
        <span class="visually-hidden">Loading jobs...</span>
      </div>
      <p class="mt-3 text-light">Loading available positions...</p>
    </div>

    <!-- Jobs List -->
    <div *ngIf="!isLoading && filteredJobs.length > 0" class="jobs-section">
      <div class="new-jobs-section mb-4" *ngIf="getNewJobs().length > 0">
        <div class="section-header mb-3">
          <h5 class="text-success mb-2">
            <i class="bi bi-star-fill me-1"></i>New Openings
            <span class="badge bg-success ms-2">{{ getNewJobs().length }}</span>
          </h5>
        </div>
        
        <div class="jobs-grid-mobile">
          <div class="job-card-mobile" *ngFor="let job of getNewJobs()">
            <!-- Job Title -->
            <div class="job-header-mobile">
              <h5 class="job-title-mobile">{{ job.title }}</h5>
            </div>
            
            <!-- Job Description -->
            <div class="job-description-mobile">
              <p>{{ job.description.length > 100 ? job.description.substring(0, 100) + '...' : job.description }}</p>
            </div>
            
            <!-- Read More Button -->
            <div class="job-actions-mobile">
              <button class="btn-primary-mobile" (click)="viewJobDetails(job)">
                <i class="fas fa-eye me-1"></i>Read More
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- All Other Jobs Section -->
      <div class="all-jobs-section" *ngIf="getOtherJobs().length > 0">
        <div class="section-header mb-4">
          <h3 class="text-primary">
            <i class="fas fa-briefcase me-2"></i>All Available Positions
            <span class="badge bg-primary ms-2">{{ getOtherJobs().length }}</span>
          </h3>
          <p class="text-muted">Browse through all available job opportunities</p>
        </div>
        
        <div class="jobs-grid-mobile">
          <div class="job-card-mobile" *ngFor="let job of getOtherJobs()">
            <!-- Job Title -->
            <div class="job-header-mobile">
              <h5 class="job-title-mobile">{{ job.title }}</h5>
            </div>
            
            <!-- Job Description -->
            <div class="job-description-mobile">
              <p>{{ job.description.length > 100 ? job.description.substring(0, 100) + '...' : job.description }}</p>
            </div>
            
            <!-- Read More Button -->
            <div class="job-actions-mobile">
              <button class="btn-primary-mobile" (click)="viewJobDetails(job)">
                <i class="fas fa-eye me-1"></i>Read More
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Load More Button -->
      <div class="text-center mt-4 px-3" *ngIf="filteredJobs.length > 12">
        <button class="btn-load-more">
          <i class="fas fa-chevron-down me-2"></i>Load More Jobs
        </button>
      </div>
    </div>

    <!-- No Jobs State -->
    <div *ngIf="!isLoading && filteredJobs.length === 0" class="no-jobs-mobile">
      <div class="no-jobs-card">
        <div class="no-jobs-icon">
          <i class="fas fa-briefcase"></i>
        </div>
        <h3 class="no-jobs-title">No Jobs Available</h3>
        <p class="no-jobs-text">
          Currently there are no job openings in {{ categoryTitle.toLowerCase() }}.
          <br>Please check back later or explore other categories.
        </p>
        <a routerLink="/all-latest-jobs" class="btn-back-mobile">
          <i class="fas fa-arrow-left me-2"></i>View All Jobs
        </a>
      </div>
    </div>
