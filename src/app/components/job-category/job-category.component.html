<div class="jc">
  <!-- Loading -->
  <div *ngIf="isLoading" class="jc-loading">
    <div class="jc-spinner"></div>
    <p class="jc-loading-text">Finding jobs...</p>
  </div>

  <!-- Jobs Content -->
  <div *ngIf="!isLoading && filteredJobs.length > 0">
    <div class="container-fluid px-0">
      <div class="row g-0">
        <!-- Left Column -->
        <div class="col-lg-8 col-md-8 col-12">
          <!-- Header -->
          <div class="jc-header">
            <div class="jc-breadcrumb">
              <i class="bi bi-house-fill"></i>
              <span>Home</span>
              <i class="bi bi-chevron-right"></i>
              <span class="jc-category-name">{{ categoryTitle }}</span>
            </div>
            <div class="jc-count">
              <i class="bi bi-briefcase-fill"></i>
              <span class="jc-count-num">{{ getNewJobs().length }}</span>
              <span>Jobs</span>
            </div>
          </div>

          <!-- Category Pills -->
          <div class="jc-pills">
            <div class="jc-pills-row">
              <button class="jc-pill jc-pill-all" routerLink="/all-latest-jobs">
                <i class="bi bi-grid-3x3-gap-fill"></i>
                <span>All Jobs</span>
              </button>
              <button class="jc-pill jc-pill-gov" (click)="navigateToCategory('Government Jobs')">
                <i class="bi bi-building-fill"></i>
                <span>Govt Jobs</span>
              </button>
              <button class="jc-pill jc-pill-prv" (click)="navigateToCategory('All Private Jobs')">
                <i class="bi bi-briefcase-fill"></i>
                <span>Private</span>
              </button>
              <button class="jc-pill jc-pill-walk" (click)="navigateToCategory('Walk-in Drives')">
                <i class="bi bi-person-walking"></i>
                <span>Walk-ins</span>
              </button>
            </div>
            <!-- <div class="jc-social">
              <span class="jc-social-label">Follow official channels</span>
              <button class="jc-social-btn jc-yt" (click)="openExternalChannel('https://www.youtube.com/@allindiajobs-newjobs')">
                <i class="bi bi-youtube"></i>
                <span>YouTube</span>
              </button>
              <button class="jc-social-btn jc-wa" (click)="openExternalChannel('https://whatsapp.com/channel/0029Vb79LscKQuJM5YCwc51H')">
                <i class="bi bi-whatsapp"></i>
                <span>WhatsApp</span>
              </button>
            </div> -->
          </div>

          <!-- Jobs List -->
          <div class="jc-jobs" *ngIf="getNewJobs().length > 0">
            <div class="jc-job" *ngFor="let job of getNewJobs()" (click)="viewJobDetails(job)">
              <div class="jc-job-info">
                <span class="jc-job-title">{{ job.title }}</span>
                <span class="jc-sep">|</span>
                <span class="jc-job-cat">{{ job.category }}</span>
                <span class="jc-sep">|</span>
                <span class="jc-job-time">{{ getTimeAgo(job.createdDate) }}</span>
              </div>
              <button class="jc-job-btn" (click)="viewJobDetails(job); $event.stopPropagation()">
                <i class="bi bi-arrow-right"></i>
              </button>
            </div>
          </div>

          <!-- Pagination -->
          <nav *ngIf="filteredJobs.length > jobsPerPage" class="jc-pagination mt-4">
            <ul class="pagination justify-content-center">
              <li class="page-item" [class.disabled]="currentPage === 1">
                <button class="page-link" (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1">Previous</button>
              </li>
              <li class="page-item" *ngFor="let page of [].constructor(getTotalPages()); let i = index" [class.active]="currentPage === (i+1)">
                <button class="page-link" (click)="goToPage(i+1)">{{ i+1 }}</button>
              </li>
              <li class="page-item" [class.disabled]="currentPage === getTotalPages()">
                <button class="page-link" (click)="goToPage(currentPage + 1)" [disabled]="currentPage === getTotalPages()">Next</button>
              </li>
            </ul>
          </nav>
        </div>

        <!-- Right Column - Filters -->
        <div class="col-lg-4 col-md-4 col-12">
          <div class="jc-filters">
            <h6 class="jc-filter-title">
              <i class="bi bi-funnel"></i>
              <span>Quick Filters</span>
            </h6>
            <hr class="jc-filter-divider">
            <div class="jc-filter-group">
              <label class="jc-filter-option" *ngFor="let company of getUniqueCompanies()">
                <input type="checkbox" [value]="company" (change)="filterByCompany($event)">
                <span>{{ company }}</span>
                <span class="jc-filter-count">({{ getJobCountByCompany(company) }})</span>
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!isLoading && filteredJobs.length === 0" class="jc-empty">
    <div>
      <div class="jc-empty-icon">
        <i class="bi bi-search"></i>
      </div>
      <h3 class="jc-empty-title">No Jobs Found</h3>
      <p class="jc-empty-text">No jobs in {{ categoryTitle.toLowerCase() }} right now.</p>
      <a routerLink="/all-latest-jobs" class="jc-back-btn">
        <i class="bi bi-arrow-left"></i>
        <span>Browse All Jobs</span>
      </a>
    </div>
  </div>
</div>
