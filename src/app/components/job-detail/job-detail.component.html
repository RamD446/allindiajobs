<div class="job-detail-page">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3">Loading job details...</p>
  </div>

  <!-- Job Details -->
  <div *ngIf="!isLoading && job" class="job-content">
    <div class="container-fluid">
      <!-- Breadcrumb -->
      <div class="breadcrumb-nav">
        <span routerLink="/all-latest-jobs" class="breadcrumb-link">
          <i class="bi bi-house-door"></i> Home
        </span>
        <i class="bi bi-chevron-right"></i>
        <span class="breadcrumb-current">Job Details</span>
      </div>

      <!-- Two Column Layout -->
      <div class="row">
        <!-- Left Column - Job Information (col-9) -->
        <div class="col-lg-9 col-md-8">
          <!-- Job Header -->
          <div class="job-header">
            <h1 class="job-title">{{ job.title }}</h1>
            <div class="job-meta">
              <span class="meta-badge">
                <i class="bi bi-building"></i> {{ job.company }}
              </span>
              <span class="meta-badge">
                <i class="bi bi-tag"></i> {{ job.category }}
              </span>
              <span class="meta-badge">
                <i class="bi bi-calendar3"></i> {{ formatDate(job.createdDate) }}
              </span>
            </div>
          </div>

          <!-- Job Description -->
          <div class="job-description">
            <h2 class="desc-title">Job Description</h2>
            <div class="desc-content" [innerHTML]="getSafeHtml(job.description)"></div>
          </div>
        </div>

        <!-- Right Column - Important Info & Contact (col-3) -->
        <div class="col-lg-3 col-md-4">
          <!-- Application Link -->
          <div class="sidebar-application" *ngIf="job.applicationUrl">
            <div class="sidebar-icon-box">
              <i class="bi bi-link-45deg"></i>
            </div>
            <h4 class="sidebar-label">Apply Now</h4>
            <a [href]="job.applicationUrl" target="_blank" rel="noopener noreferrer" class="sidebar-apply-link">
              {{ job.applicationUrl }}
            </a>
          </div>

          <!-- Share & Follow Section -->
          <div class="sidebar-social">
            <div class="sidebar-icon-box">
              <i class="bi bi-share-fill"></i>
            </div>
            <h4 class="sidebar-label">Share & Follow</h4>
            <div class="social-icons-row">
              <button class="social-icon-btn share" (click)="shareJob(job)" title="Share">
                <i class="bi bi-share-fill"></i>
              </button>
              <button class="social-icon-btn whatsapp" (click)="shareOnWhatsApp(job)" title="WhatsApp Share">
                <i class="bi bi-whatsapp"></i>
              </button>
              <button class="social-icon-btn copy" (click)="copyLink(job)" title="Copy Link">
                <i class="bi bi-clipboard"></i>
              </button>||
              <button class="social-icon-btn youtube" (click)="openExternalChannel('https://www.youtube.com/@allindiajobs-newjobs')" title="YouTube">
                <i class="bi bi-youtube"></i>
              </button>
              <button class="social-icon-btn whatsapp" (click)="openExternalChannel('https://whatsapp.com/channel/0029Vb79LscKQuJM5YCwc51H')" title="WhatsApp Channel">
                <i class="bi bi-whatsapp"></i>
              </button>
            </div>
          </div>

          <!-- Important & Posted By Row -->
          <div class="sidebar-row">
            <div class="sidebar-row-item">
              <div class="sidebar-icon-box-small">
                <i class="bi bi-exclamation-triangle-fill"></i>
              </div>
              <h5 class="sidebar-label-small">Important</h5>
              <p class="sidebar-text-small">Verify on official website</p>
            </div>
            <div class="sidebar-row-item">
              <div class="sidebar-icon-box-small">
                <i class="bi bi-person-circle"></i>
              </div>
              <h5 class="sidebar-label-small">Posted By</h5>
              <p class="sidebar-text-small"><strong>Yalla Ramana</strong></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Job Not Found -->
  <div class="not-found" *ngIf="!isLoading && !job">
    <div class="container">
      <div class="not-found-content">
        <i class="bi bi-exclamation-circle"></i>
        <h2>Job Not Found</h2>
        <p>The job you're looking for doesn't exist or has been removed.</p>
        <button routerLink="/all-latest-jobs" class="btn-back">
          <i class="bi bi-arrow-left"></i> Back to Jobs
        </button>
      </div>
    </div>
  </div>
</div>