<div class="ultra-compact-page">
  <div *ngIf="isLoading" class="tiny-loading">
    <div class="mini-spin"></div>Loading...
  </div>
  <div *ngIf="!isLoading && job" class="ultra-content">
    <div class="row g-2">
      <div class="col-12 col-lg-9 order-1 order-lg-1">
        
        <!-- Card 1: Job Title, Created By, Date -->
        <div class="info-card" [ngClass]="getCategoryClass(job.category)">
          <h1 class="job-title-main">{{ job.title }}</h1>
          <div class="title-divider"></div>
          <div class="job-meta-row">
            <span class="meta-item">Created by Yalla Ramana</span>
            <span class="meta-separator">|</span>
            <span class="meta-item">{{ formatDate(job.createdDate) }}</span>
          </div>
        </div>
        
        <!-- Card 2: Job Description Only -->
        <div class="info-card desc-card">
          <h1 class="card-section-title">Job Description</h1>
          <div class="job-desc-content" [innerHTML]="getSafeHtml(job.description)"></div>
        </div>
        
        <!-- Card 3: Job Summary -->
        <div class="info-card summary-card">
          <h1 class="card-section-title">Job Summary</h1>
          
          <!-- Company Name Row -->
          <div class="summary-row">
            <i class="bi bi-building"></i>
            <span class="summary-label">Company:</span>
            <span class="summary-value">{{ job.company }}</span>
          </div>
          
          <!-- Job Type & Application Link Row -->
          <div class="summary-row">
            <i class="bi bi-briefcase"></i>
            <span class="summary-label">Job Type:</span>
            <span class="summary-value">{{ job.category }}</span>
          </div>
          
          <div class="summary-row link-row" *ngIf="job.applicationUrl">
            <i class="bi bi-link-45deg"></i>
            <span class="summary-label">More Information:</span>
            <a [href]="job.applicationUrl" target="_blank" class="apply-link">{{ job.applicationUrl }}</a>
          </div>
          
          <!-- Share Job Row -->
          <div class="action-row">
            <span class="action-label">Share && Follow</span>
            <button class="action-btn share-btn" (click)="shareJob(job)">
              <i class="bi bi-share"></i> Share
            </button>
            <button class="action-btn whatsapp-btn" (click)="shareOnWhatsApp(job)">
              <i class="bi bi-whatsapp"></i> WhatsApp
            </button>
            <button class="action-btn copy-btn" (click)="copyLink(job)">
              <i class="bi bi-clipboard"></i> Copy Link
            </button>
            <div class="action-row">
           ||
            <button class="action-btn whatsapp-group-btn" (click)="openExternalChannel('https://whatsapp.com/channel/0029VbCLJWjCRs1nIKjUlh3p')">
              <i class="bi bi-whatsapp"></i> WhatsApp Group
            </button>
            <button class="action-btn youtube-btn" (click)="openExternalChannel('https://www.youtube.com/@allindiajobs-newjobs')">
              <i class="bi bi-youtube"></i> YouTube
            </button>
          </div>
        </div>
          </div>
          
          <!-- Follow Groups Row -->
          
        
      </div>
      <div class="col-12 col-lg-3 order-2 order-lg-2">
        <!-- Card: Top 10 Latest Jobs (No Scroll) -->
        <div class="info-card sidebar-card">
          <h5 class="card-section-title">Top 10 Latest Jobs</h5>
          <div *ngIf="!isLoading && latestJobs && latestJobs.length > 0" class="jobs-list">
            <div *ngFor="let latestJob of latestJobs.slice(0, 10); trackBy: trackByJobId; let i = index" 
                 class="job-list-item"
                 (click)="viewJobDetails(latestJob)">
              <div class="job-number">{{ i + 1 }}</div>
              <div class="job-info">
                <div class="job-name">{{ latestJob.title }}</div>
                <div class="job-company">{{ latestJob.company }}</div>
              </div>
            </div>
          </div>
          <div *ngIf="!isLoading && (!latestJobs || latestJobs.length === 0)" class="no-jobs">No jobs available</div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="!isLoading && !job" class="ultra-not-found">
    <h3>Job Not Found</h3>
    <button class="ultra-back-btn" (click)="goBack()">Back to Jobs</button>
  </div>
</div>

